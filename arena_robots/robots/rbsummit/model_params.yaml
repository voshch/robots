# --- 以下为模仿 Jackal 并为 RB-ROBOUT 修改的导航参数 ---

observation_sources_string: lidar
observation_sources:
  - lidar
observation_sources_dict:
  lidar:
    topic: ${namespace}/lidar
    max_obstacle_height: 2.0
    clearing: True
    marking: True
    data_type: "LaserScan"

# --- 已根据 RB-ROBOUT 尺寸估算 ---
# 这是一个矩形足迹的估算值，您可能需要微调
footprint: "[ [0.5, 0.35], [0.5, -0.35], [-0.5, -0.35], [-0.5, 0.35] ]"
robot_radius: 0.61 # 根据上述足迹估算的机器人半径

# --- 以下为机器人模型和框架名称 ---
robot_model: rbsummit # 已修改
robot_base_frame: robot_base_footprint
robot_odom_frame: 'odom'
# 传感器框架名称，假设前置激光雷达的 link 名称为 robot_front_laser_link
robot_sensor_frame: 'robot_front_laser_link' # 已修改

# --- 以下参数直接沿用 Jackal 的配置作为起点 ---
polygons:
  - StopPolygon
polygons_dict:
  StopPolygon:
    type: "polygon"
    points: "[ [0.5, 0.35], [0.5, -0.35], [-0.5, -0.35], [-0.5, 0.35] ]" # 使用新的足迹
    action_type: "stop"
    min_points: 4
    visualize: True
    polygon_pub_topic: "polygon_stop"
    enabled: True

planner_plugins:
  - GridBased
planner_plugins_dict:
  GridBased:
    plugin: "nav2_navfn_planner/NavfnPlanner"
    tolerance: 0.5
    use_astar: false
    allow_unknown: true

actions:
  continuous:
    angular_range:
    - -4.0
    - 4.0
    linear_range:
    - -2.0
    - 2.0
  discrete:
  - angular: 0.0
    linear: 0.3
    name: move_forward
  - angular: 0.0
    linear: -0.15
    name: move_backward
  - angular: 0.35
    linear: 0.15
    name: turn_left
  - angular: -0.35
    linear: 0.15
    name: turn_right
  - angular: 0.75
    linear: 0.0
    name: turn_strong_left
  - angular: -0.75
    linear: 0.0
    name: turn_strong_right
  - angular: 0.0
    linear: 0.0
    name: stop

